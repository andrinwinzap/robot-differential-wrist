#ifndef CONFIG_H
#define CONFIG_H

#define ROBOT_NAME "robot"
#define AXIS_A_NAME "joint_5"
#define AXIS_B_NAME "joint_6"

#define PID_LOOP_FREQUENCY_HZ 100
#define PID_LOG_FREQUENCY_HZ 10
#define PID_FREQ_ALPHA 0.9f
#define PID_LOOP_TIME_ALPHA 0.9f

#define COARSE_HOMING_SPEED 0.5
#define FINE_HOMING_SPEED 0.3
#define POSITION_TOLERANCE 1.0e-2

#define I2C_FREQ_HZ 400000

#define GEAR_RATIO 20.0f / 29.0f

// AXIS A
#define AXIS_A_MAX M_PI / 2.0f - 0.03
#define AXIS_A_MIN -M_PI / 2.0f + 0.03
#define AXIS_A_MAX_SPEED 1.7f

#define ENDSTOP_A_PIN GPIO_NUM_8
#define ENDSTOP_A_POSITION AXIS_A_MAX - 0.01

#define AS5600_A_I2C_PORT I2C_NUM_0
#define AS5600_A_I2C_SDA 18
#define AS5600_A_I2C_SCL 17
#define AS5600_A_VELOCITY_FILTER_ALPHA 0.1f
#define AS5600_A_SCALE_FACTOR 1.0f
#define AS5600_A_ENABLE_NVS true
#define INVERT_AS5600_A true

#define TB6612_A_IN1 GPIO_NUM_4
#define TB6612_A_IN2 GPIO_NUM_5
#define TB6612_A_PWM GPIO_NUM_6

#define AXIS_A_POSITION_KP 1.0f
#define AXIS_A_POSITION_KI 0.0f
#define AXIS_A_POSITION_KD 0.0f
#define AXIS_A_POSITION_KF 1.0f

#define AXIS_A_VELOCITY_KP 1.0f
#define AXIS_A_VELOCITY_KI 5.0f
#define AXIS_A_VELOCITY_KD 0.0f
#define AXIS_A_VELOCITY_KF 0.4f

// AXIS B
#define AXIS_B_MAX M_PI
#define AXIS_B_MIN -M_PI
#define AXIS_B_MAX_SPEED 1.7f

#define ENDSTOP_B_PIN GPIO_NUM_11
#define ENDSTOP_B_POSITION M_PI / 9.0f

#define AS5600_B_I2C_PORT I2C_NUM_1
#define AS5600_B_I2C_SDA 10
#define AS5600_B_I2C_SCL 9
#define AS5600_B_VELOCITY_FILTER_ALPHA 0.1f
#define AS5600_B_SCALE_FACTOR 1.0f
#define AS5600_B_ENABLE_NVS true
#define INVERT_AS5600_B true

#define TB6612_B_IN1 GPIO_NUM_12
#define TB6612_B_IN2 GPIO_NUM_13
#define TB6612_B_PWM GPIO_NUM_14

#define AXIS_B_POSITION_KP 1.0f
#define AXIS_B_POSITION_KI 0.0f
#define AXIS_B_POSITION_KD 0.0f
#define AXIS_B_POSITION_KF 1.0f

#define AXIS_B_VELOCITY_KP 1.0f
#define AXIS_B_VELOCITY_KI 5.0f
#define AXIS_B_VELOCITY_KD 0.0f
#define AXIS_B_VELOCITY_KF 0.4f

#endif // CONFIG_H